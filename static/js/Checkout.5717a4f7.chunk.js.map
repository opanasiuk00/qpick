{"version":3,"file":"static/js/Checkout.5717a4f7.chunk.js","mappings":"+MACA,EAA2B,2BAA3B,EAAuE,iCAAvE,EAA8H,sCAA9H,EAAoL,gCAApL,EAA0O,sCAA1O,EAAiS,iCAAjS,EAAyV,uCAAzV,EAAsZ,sCAAtZ,EAAud,2C,UCevd,EAdmBA,EAAAA,KAAaC,MAAM,CACpCC,KAAMF,EAAAA,KAAaG,SAAS,iEAC5BC,QAASJ,EAAAA,KAAaG,SAAS,yFAC/BE,MAAOL,EAAAA,KAEJK,MAAM,oQACNF,SAAS,wKACZG,MAAON,EAAAA,KAEJG,SAAS,yFACTI,QAAQ,sBAAuB,wKAClCC,KAAMR,EAAAA,KAAaG,SAAS,+E,SC2F9B,EAhG2B,WACzB,MAAkCM,EAAAA,UAAe,GAAjD,eAAOC,EAAP,KAAkBC,EAAlB,KAEA,GAA8CC,EAAAA,EAAAA,IAAYC,EAAAA,GAAlDC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,WAAYC,EAAhC,EAAgCA,UAEhC,OAAmB,IAAfF,GACK,SAAC,KAAD,CAAUG,GAAG,WAGlB,iBAAKC,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,4DACA,4BACE,uBACG,UAAoBL,EAApBA,EAAa,EAAb,sKAEH,yBAAIC,EAAJ,gBAEF,4BACE,oIACA,sFAEF,cAAGG,UAAWC,EAA4BC,QAAS,kBAAMT,GAAcD,IAAvE,uEAIDA,IACC,iBAAKQ,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAA6BC,QAAS,kBAAMT,GAAa,IAAzE,UACE,oCAEDK,EAAUK,KAAI,SAACC,GAAD,OACb,iBAAkBJ,UAAWC,EAA7B,WACE,gBAAKI,IAAKD,EAAIE,IAAKC,IAAKH,EAAII,YAC5B,wBAAKJ,EAAIK,SACT,4BACE,cAAGT,UAAWC,EAAd,uCACA,yBAAIG,EAAIM,MAAR,gBAEF,4BACE,cAAGV,UAAWC,EAAd,2EACA,uBAAIG,EAAIO,YAEV,4BACE,cAAGX,UAAWC,EAAd,6CACA,uBAAIG,EAAIO,MAAQC,OAAOR,EAAIM,MAAMG,QAAQ,KAAM,YAbzCT,EAAIU,QAiBhB,oFAAejB,EAAf,gBAGJ,SAAC,KAAD,CACEkB,cAAe,CACb/B,KAAM,GACNE,QAAS,GACTC,MAAO,GACPC,MAAO,GACPE,KAAM,IAER0B,SAAU,SAACC,GACTC,MAAM,+GACNC,QAAQC,IAAI,CAAEH,OAAAA,EAAQnB,UAAAA,EAAWD,WAAAA,KAEnCwB,iBAAkBC,EAZpB,SAaG,gBAAGC,EAAH,EAAGA,aAAH,OACC,kBAAMP,SAAUO,EAAcvB,UAAWC,EAAzC,WACE,kBAAOuB,QAAQ,OAAf,iCACA,SAAC,KAAD,CAAOV,GAAG,OAAO9B,KAAK,UACtB,SAAC,KAAD,CAAcgB,UAAWC,EAA4BwB,UAAU,IAAIzC,KAAM,UAEzE,kBAAOwC,QAAQ,UAAf,yDACA,SAAC,KAAD,CAAOV,GAAG,UAAU9B,KAAK,aACzB,SAAC,KAAD,CAAcgB,UAAWC,EAA4BwB,UAAU,IAAIzC,KAAM,aAEzE,kBAAOwC,QAAQ,QAAf,oBACA,SAAC,KAAD,CAAOV,GAAG,QAAQ9B,KAAK,WACvB,SAAC,KAAD,CAAcgB,UAAWC,EAA4BwB,UAAU,IAAIzC,KAAM,WAEzE,kBAAOwC,QAAQ,QAAf,gHACA,SAAC,KAAD,CAAOV,GAAG,QAAQ9B,KAAK,WACvB,SAAC,KAAD,CAAcgB,UAAWC,EAA4BwB,UAAU,IAAIzC,KAAM,WAEzE,kBAAOwC,QAAQ,OAAf,qJACA,SAAC,KAAD,CAAOV,GAAG,OAAO9B,KAAK,UACtB,SAAC,KAAD,CAAcgB,UAAWC,EAA4BwB,UAAU,IAAIzC,KAAM,UAEzE,mBAAQ0C,KAAK,SAAb","sources":["webpack://qpick/./src/pages/Checkout/checkout.module.scss?282d","pages/Checkout/validation.ts","pages/Checkout/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"checkout\":\"checkout_checkout__WAXMd\",\"checkout_total\":\"checkout_checkout_total__uERN9\",\"checkout_total_more\":\"checkout_checkout_total_more__+ki80\",\"checkout_form\":\"checkout_checkout_form__VnK9R\",\"checkout_form_error\":\"checkout_checkout_form_error__fgsuB\",\"checkout_popup\":\"checkout_checkout_popup__+jD-2\",\"checkout_popup_close\":\"checkout_checkout_popup_close__CHyTw\",\"checkout_popup_item\":\"checkout_checkout_popup_item__WNL1W\",\"checkout_popup_item_info\":\"checkout_checkout_popup_item_info__xesGx\"};","import * as yup from 'yup';\r\n\r\nconst validation = yup.object().shape({\r\n  name: yup.string().required('Укажите имя'),\r\n  surname: yup.string().required('Укажите фамилию'),\r\n  email: yup\r\n    .string()\r\n    .email('Введите действительный адрес электронной почты')\r\n    .required('Электронная почта обязательна'),\r\n  phone: yup\r\n    .string()\r\n    .required('Укажите телефон')\r\n    .matches(/^(?:\\+38)?(0\\d{9})$/, 'Номер телефона недействителен'),\r\n  city: yup.string().required('Укажите адрес'),\r\n});\r\n\r\nexport default validation;\r\n","import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectCartData } from '../../redux/cart/selectors';\r\nimport { ErrorMessage, Field, Formik } from 'formik';\r\nimport styles from './checkout.module.scss';\r\nimport validation from './validation';\r\n\r\nconst Checkout: React.FC = () => {\r\n  const [showPopup, setShowPopup] = React.useState(false);\r\n\r\n  const { cartLength, totalPrice, cartItems } = useSelector(selectCartData);\r\n\r\n  if (cartLength === 0) {\r\n    return <Navigate to=\"/cart\" />;\r\n  } else {\r\n    return (\r\n      <div className={styles.checkout}>\r\n        <div className={styles.checkout_total}>\r\n          <h3>Итого</h3>\r\n          <div>\r\n            <p>\r\n              {cartLength > 1 ? `${cartLength} товара на сумму` : `${cartLength} товар на сумму`}\r\n            </p>\r\n            <p>{totalPrice}₴</p>\r\n          </div>\r\n          <div>\r\n            <p>Стоимость доставки</p>\r\n            <p>Бесплатно</p>\r\n          </div>\r\n          <p className={styles.checkout_total_more} onClick={() => setShowPopup(!showPopup)}>\r\n            Подробнее\r\n          </p>\r\n        </div>\r\n        {showPopup && (\r\n          <div className={styles.checkout_popup}>\r\n            <div className={styles.checkout_popup_close} onClick={() => setShowPopup(false)}>\r\n              <p>&#10006;</p>\r\n            </div>\r\n            {cartItems.map((obj) => (\r\n              <div key={obj.id} className={styles.checkout_popup_item}>\r\n                <img src={obj.img} alt={obj.typeName} />\r\n                <h3>{obj.title}</h3>\r\n                <div>\r\n                  <p className={styles.checkout_popup_item_info}>Цена</p>\r\n                  <p>{obj.price}₴</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.checkout_popup_item_info}>Количество</p>\r\n                  <p>{obj.count}</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.checkout_popup_item_info}>Сумма</p>\r\n                  <p>{obj.count * Number(obj.price.replace(/ /g, ''))}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            <p>Стоимость: {totalPrice}₴</p>\r\n          </div>\r\n        )}\r\n        <Formik\r\n          initialValues={{\r\n            name: '',\r\n            surname: '',\r\n            email: '',\r\n            phone: '',\r\n            city: '',\r\n          }}\r\n          onSubmit={(values) => {\r\n            alert('Ваш заказ оформлен, console');\r\n            console.log({ values, cartItems, totalPrice });\r\n          }}\r\n          validationSchema={validation}>\r\n          {({ handleSubmit }) => (\r\n            <form onSubmit={handleSubmit} className={styles.checkout_form}>\r\n              <label htmlFor=\"name\">Имя</label>\r\n              <Field id=\"name\" name=\"name\" />\r\n              <ErrorMessage className={styles.checkout_form_error} component=\"p\" name={'name'} />\r\n\r\n              <label htmlFor=\"surname\">Фамилия</label>\r\n              <Field id=\"surname\" name=\"surname\" />\r\n              <ErrorMessage className={styles.checkout_form_error} component=\"p\" name={'surname'} />\r\n\r\n              <label htmlFor=\"email\">Email</label>\r\n              <Field id=\"email\" name=\"email\" />\r\n              <ErrorMessage className={styles.checkout_form_error} component=\"p\" name={'email'} />\r\n\r\n              <label htmlFor=\"phone\">Мобильный телефон</label>\r\n              <Field id=\"phone\" name=\"phone\" />\r\n              <ErrorMessage className={styles.checkout_form_error} component=\"p\" name={'phone'} />\r\n\r\n              <label htmlFor=\"city\">Введите населенный пункт</label>\r\n              <Field id=\"city\" name=\"city\" />\r\n              <ErrorMessage className={styles.checkout_form_error} component=\"p\" name={'city'} />\r\n\r\n              <button type=\"submit\">Закончить оформление</button>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Checkout;\r\n"],"names":["yup","shape","name","required","surname","email","phone","matches","city","React","showPopup","setShowPopup","useSelector","selectCartData","cartLength","totalPrice","cartItems","to","className","styles","onClick","map","obj","src","img","alt","typeName","title","price","count","Number","replace","id","initialValues","onSubmit","values","alert","console","log","validationSchema","validation","handleSubmit","htmlFor","component","type"],"sourceRoot":""}